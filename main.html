<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>–î–ª—è –î–∏–∞–Ω—ã ‚ù§Ô∏è</title>

  <style>
    :root { color-scheme: dark; }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(900px 700px at 50% 15%, #2a1448, #090911);
      color:#fff;
      overflow:hidden;
      padding: 16px;
    }

    .card{
      width:min(560px, 94vw);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
      border-radius: 22px;
      box-shadow: 0 20px 90px rgba(0,0,0,.55);
      padding: 16px;
    }

    h1{
      margin: 6px 0 10px;
      font-size: 22px;
      line-height: 1.15;
    }

    p{
      margin: 0 0 14px;
      opacity:.88;
      line-height:1.35;
    }

    .badge{
      display:inline-block;
      margin-bottom: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      font-size: 13px;
      opacity:.9;
    }

    .stage{
      position: relative;
      width: 100%;
      height: min(55vh, 420px);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      overflow: hidden;
      touch-action: none;
    }

    .btn{
      position:absolute;
      border:0;
      border-radius: 18px;
      padding: 16px 18px;
      font-weight: 900;
      font-size: 18px;
      min-width: 140px;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, opacity .2s ease;
    }

    #yes{
      color:#0b0b12;
      background: linear-gradient(135deg, #ff6bd6, #ffcf5a);
      box-shadow: 0 14px 34px rgba(255,107,214,.18);
    }

    #no{
      color:#fff;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
    }

    .meta{
      margin-top: 10px;
      font-size: 13px;
      opacity:.78;
      display:flex;
      justify-content: space-between;
      gap:10px;
      flex-wrap: wrap;
    }

    /* —ç–∫—Ä–∞–Ω —É—Å–ø–µ—Ö–∞ */
    .success{
      height:100%;
      display:grid;
      place-items:center;
      text-align:center;
      padding: 18px;
    }

    .success h2{
      margin: 0 0 10px;
      font-size: 24px;
    }

    .success p{
      margin: 0 0 14px;
      font-size: 18px;
      opacity:.95;
    }

    .success img{
      width: min(320px, 78vw);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
    }

    /* —Å–µ—Ä–¥–µ—á–∫–∏ */
    .heart{
      position: fixed;
      top: -24px;
      left: 50%;
      font-size: 18px;
      pointer-events:none;
      will-change: transform, opacity;
      opacity:.95;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.35));
      z-index: 999;
    }
  </style>
</head>
<body>

  <div class="card">
    <span class="badge">–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω üòå</span>

    <h1>–î–∏–∞–Ω–∞, —Ç—ã –±—É–¥–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? ‚ù§Ô∏è</h1>

    <p>–ù–∞–∂–∞—Ç–∏–µ ¬´–î–∞¬ª –≤—ã–∑—ã–≤–∞–µ—Ç —É–ª—ã–±–∫—É. ¬´–ù–µ—Ç¬ª –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –ø–∞–Ω–∏–∫–æ–≤–∞—Ç—å üôÇ</p>

    <div class="stage" id="stage">
      <button class="btn" id="yes">–î–∞</button>
      <button class="btn" id="no">–ù–µ—Ç</button>
    </div>

    <div class="meta">
      <div>–ü–æ–ø—ã—Ç–æ–∫ ¬´–ù–µ—Ç¬ª: <b id="tries">0</b></div>
      <div>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ–ø—Ä–æ–±—É–π –Ω–∞–∂–∞—Ç—å ¬´–ù–µ—Ç¬ª üòâ</div>
    </div>
  </div>

  <script>
    const stage = document.getElementById('stage');
    const yesBtn = document.getElementById('yes');
    const noBtn  = document.getElementById('no');
    const triesEl = document.getElementById('tries');

    let tries = 0;

    function clamp(v,a,b){ return Math.max(a, Math.min(b,v)); }

    function placeButtons(){
      const r = stage.getBoundingClientRect();
      const yR = yesBtn.getBoundingClientRect();
      const nR = noBtn.getBoundingClientRect();
      const gap = 14;

      const y = r.height - 24 - Math.max(yR.height, nR.height);
      const x0 = (r.width - (yR.width + gap + nR.width)) / 2;

      yesBtn.style.left = x0 + "px";
      yesBtn.style.top  = y + "px";

      noBtn.style.left  = (x0 + yR.width + gap) + "px";
      noBtn.style.top   = y + "px";
    }

    function moveNo(fromX, fromY){
      const r = stage.getBoundingClientRect();
      const n = noBtn.getBoundingClientRect();

      const pad = 10;
      const maxX = r.width  - n.width  - pad;
      const maxY = r.height - n.height - pad;

      const curX = parseFloat(noBtn.style.left);
      const curY = parseFloat(noBtn.style.top);

      const dirX = fromX < curX + n.width/2 ? 1 : -1;
      const dirY = fromY < curY + n.height/2 ? 1 : -1;

      const x = clamp(curX + dirX * (120 + Math.random()*120), pad, maxX);
      const y = clamp(curY + dirY * (80  + Math.random()*120), pad, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    function growYes(){
      const s = 1 + tries * 0.12;
      yesBtn.style.transform = `scale(${Math.min(s, 2)})`;
    }

    function hearts(){
      const e = ["‚ù§Ô∏è","üíñ","üíò","üíï","üíó"];
      for(let i=0;i<60;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.textContent = e[Math.random()*e.length|0];
        const x = Math.random()*window.innerWidth;
        const d = 1200 + Math.random()*1200;
        const drift = (Math.random()-0.5)*260;
        h.style.left = x+"px";
        document.body.appendChild(h);

        const s = performance.now();
        (function f(t){
          const p = Math.min(1,(t-s)/d);
          h.style.transform = `translate(${drift*p}px, ${p*(window.innerHeight+80)}px) rotate(${p*200}deg)`;
          h.style.opacity = 1-p;
          if(p<1) requestAnimationFrame(f);
          else h.remove();
        })(s);
      }
    }

    function success(){
      stage.innerHTML = `
        <div class="success">
          <h2>–î–∏–∞–Ω–∞ ‚ù§Ô∏è</h2>
          <p>–¢—ã ‚Äî –º–æ–π –≤—ã–±–æ—Ä —Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞ –∏ –≤—Å–µ–≥–¥–∞ ‚ù§Ô∏è</p>
          <img src="https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3bTgzOW9uMDNib3ptM3RnNDZ4aGViajR6MGkyY3ZwbGFtdDc4aHdkMiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/A8O8nTI7TtbvG/giphy.gif" alt="love">
        </div>
      `;
      hearts();
    }

    yesBtn.onclick = success;

    noBtn.onclick = (e)=>{
      e.preventDefault();
      tries++;
      triesEl.textContent = tries;
      growYes();
      moveNo(Math.random()*stage.clientWidth, Math.random()*stage.clientHeight);
    };

    stage.onpointermove = (e)=>{
      const r = noBtn.getBoundingClientRect();
      const d = Math.hypot(
        e.clientX - (r.left + r.width/2),
        e.clientY - (r.top  + r.height/2)
      );
      if(d < 120){
        tries++;
        triesEl.textContent = tries;
        growYes();
        moveNo(e.clientX, e.clientY);
      }
    };

    window.onresize = placeButtons;
    placeButtons();
  </script>

</body>
</html>
